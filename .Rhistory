data <- read_file(here::here("2020", "Inputs", "day_4.txt")) %>%
as.data.frame(.) %>%
rename(pattern = 1) %>%
separate_rows(pattern, sep = "\n\n") %>%
mutate(keys = str_extract_all(pattern, "([a-z]{3})(?=:)"),
values = str_extract_all(pattern, "(?<=([a-z]{3}:))(.+?)(?=(\n| ))")) %>%
mutate(passport_id = row_number()) %>%
mutate(df = as.data.frame(cbind(keys, values, passport_id)))
View(data)
data <- read_file(here::here("2020", "Inputs", "day_4.txt")) %>%
as.data.frame(.) %>%
rename(pattern = 1) %>%
separate_rows(pattern, sep = "\n\n") %>%
mutate(keys = str_extract_all(pattern, "([a-z]{3})(?=:)"),
values = str_extract_all(pattern, "(?<=([a-z]{3}:))(.+?)(?=(\n| ))")) %>%
mutate(passport_id = row_number())
View(data)
data <- read_file(here::here("2020", "Inputs", "day_4.txt")) %>%
as.data.frame(.) %>%
rename(pattern = 1) %>%
separate_rows(pattern, sep = "\n\n") %>%
mutate(keys = str_extract_all(pattern, "([a-z]{3})(?=:)"),
values = str_extract_all(pattern, "(?<=([a-z]{3}:))(.+?)(?=(\n| ))")) %>%
mutate(passport_id = row_number()) %>%
select(-pattern)
View(data)
?unnest_longer
View(data)
data <- read_file(here::here("2020", "Inputs", "day_4.txt")) %>%
as.data.frame(.) %>%
rename(pattern = 1) %>%
separate_rows(pattern, sep = "\n\n") %>%
mutate(passport_id = row_number())
View(data)
data <- read_file(here::here("2020", "Inputs", "day_4.txt")) %>%
as.data.frame(.) %>%
rename(pattern = 1) %>%
separate_rows(pattern, sep = "\n\n") %>%
mutate(passport_id = row_number()) %>%
separate_rows(pattern, sep = "   |\n")
View(data)
data <- read_file(here::here("2020", "Inputs", "day_4.txt")) %>%
as.data.frame(.) %>%
rename(pattern = 1) %>%
separate_rows(pattern, sep = "\n\n") %>%
mutate(passport_id = row_number()) %>%
separate_rows(pattern, sep = " |\n")
View(data)
data <- read_file(here::here("2020", "Inputs", "day_4.txt")) %>%
as.data.frame(.) %>%
rename(pattern = 1) %>%
separate_rows(pattern, sep = "\n\n") %>%
mutate(passport_id = row_number()) %>%
separate_rows(pattern, sep = " |\n") %>%
separate(pattern, into = c("key", "value"), sep = ":")
View(data)
data <- read_file(here::here("2020", "Inputs", "day_4.txt")) %>%
as.data.frame(.) %>%
rename(pattern = 1) %>%
separate_rows(pattern, sep = "\n\n") %>%
mutate(passport_id = row_number()) %>%
separate_rows(pattern, sep = " |\n") %>%
separate(pattern, into = c("key", "value"), sep = ":") %>%
pivot_wider(names_from = "key", values_from = "value")
data <- read_file(here::here("2020", "Inputs", "day_4.txt")) %>%
as.data.frame(.) %>%
rename(pattern = 1) %>%
separate_rows(pattern, sep = "\n\n") %>%
mutate(passport_id = row_number()) %>%
separate_rows(pattern, sep = " |\n") %>%
separate(pattern, into = c("key", "value"), sep = ":") %>%
filter(!is.na(key)) %>%
pivot_wider(names_from = "key", values_from = "value")
data <- read_file(here::here("2020", "Inputs", "day_4.txt")) %>%
as.data.frame(.) %>%
rename(pattern = 1) %>%
separate_rows(pattern, sep = "\n\n") %>%
mutate(passport_id = row_number()) %>%
separate_rows(pattern, sep = " |\n") %>%
separate(pattern, into = c("key", "value"), sep = ":") %>%
filter(!is.na(key))
View(data)
data <- read_file(here::here("2020", "Inputs", "day_4.txt")) %>%
as.data.frame(.) %>%
rename(pattern = 1) %>%
separate_rows(pattern, sep = "\n\n") %>%
mutate(passport_id = row_number()) %>%
separate_rows(pattern, sep = " |\n") %>%
separate(pattern, into = c("key", "value"), sep = ":") %>%
filter(key!='') %>%
pivot_wider(names_from = "key", values_from = "value")
View(data)
data %>%
filter(1920 <= byr <= 2020) %>%
data %>%
filter(1920 <= byr & byr <= 2020) %>%
View()
data %>%
filter(1920 <= byr & byr <= 2020 &
2010  <=  iyr & iyr <= 2020) %>%
View()
data %>%
filter(1920 <= byr & byr <= 2020 &
2010  <=  iyr & iyr <= 2020 &
2020 <=  eyr & eyr <=  2030) %>%
View()
data %>%
filter(1920 <= byr & byr <= 2020 &
2010  <=  iyr & iyr <= 2020 &
2020 <=  eyr & eyr <=  2030) %>%
View()
data <- read_file(here::here("2020", "Inputs", "day_4.txt")) %>%
as.data.frame(.) %>%
rename(pattern = 1) %>%
separate_rows(pattern, sep = "\n\n") %>%
mutate(passport_id = row_number()) %>%
separate_rows(pattern, sep = " |\n") %>%
separate(pattern, into = c("key", "value"), sep = ":") %>%
filter(key!='') %>%
pivot_wider(names_from = "key", values_from = "value") %>%
mutate(hgt_units = str_extract(hgt, "[a-z]{2}"))
View(data)
data %>%
filter(1920 <= byr & byr <= 2020 &
2010  <=  iyr & iyr <= 2020 &
2020 <=  eyr & eyr <=  2030 &
!isna(hgt_units)) %>%
View()
data %>%
filter(1920 <= byr & byr <= 2020 &
2010  <=  iyr & iyr <= 2020 &
2020 <=  eyr & eyr <=  2030 &
!is.na(hgt_units)) %>%
View()
data <- read_file(here::here("2020", "Inputs", "day_4.txt")) %>%
as.data.frame(.) %>%
rename(pattern = 1) %>%
separate_rows(pattern, sep = "\n\n") %>%
mutate(passport_id = row_number()) %>%
separate_rows(pattern, sep = " |\n") %>%
separate(pattern, into = c("key", "value"), sep = ":") %>%
filter(key!='') %>%
pivot_wider(names_from = "key", values_from = "value") %>%
mutate(hgt_units = str_extract(hgt, "[a-z]{2}"))
data %>%
filter(1920 <= byr & byr <= 2020 &
2010  <=  iyr & iyr <= 2020 &
2020 <=  eyr & eyr <=  2030 &
!is.na(hgt_units)) %>%
View()
data <- read_file(here::here("2020", "Inputs", "day_4.txt")) %>%
as.data.frame(.) %>%
rename(pattern = 1) %>%
separate_rows(pattern, sep = "\n\n") %>%
mutate(passport_id = row_number()) %>%
separate_rows(pattern, sep = " |\n") %>%
separate(pattern, into = c("key", "value"), sep = ":") %>%
filter(key!='') %>%
pivot_wider(names_from = "key", values_from = "value") %>%
mutate(hgt_units = str_extract(hgt, "[a-z]{2}"),
hgt = str_extract(hgt, as.numeric("[0-9]+")))
data <- read_file(here::here("2020", "Inputs", "day_4.txt")) %>%
as.data.frame(.) %>%
rename(pattern = 1) %>%
separate_rows(pattern, sep = "\n\n") %>%
mutate(passport_id = row_number()) %>%
separate_rows(pattern, sep = " |\n") %>%
separate(pattern, into = c("key", "value"), sep = ":") %>%
filter(key!='') %>%
pivot_wider(names_from = "key", values_from = "value") %>%
mutate(hgt_units = str_extract(hgt, "[a-z]{2}"),
hgt = str_extract(hgt, "[0-9]+")) %>%
mutate(hgt = as.numeric(hgt))
data %>%
mutate(hgt_valid = case_when(
(hgt_units == "in" & hgt >= 59 & hgt <= 76) |
(hgt_units == "cm" & hgt >= 150 & hgt <= 193) ~ TRUE,
TRUE ~ FALSE
)) %>%
View()
data %>%
mutate(hgt_valid = case_when(
(hgt_units == "in" & hgt >= 59 & hgt <= 76) |
(hgt_units == "cm" & hgt >= 150 & hgt <= 193) ~ TRUE,
TRUE ~ FALSE
)) %>%
filter(1920 <= byr & byr <= 2020 &
2010  <=  iyr & iyr <= 2020 &
2020 <=  eyr & eyr <=  2030 &
!is.na(hgt_units) & hgt_valid) %>%
View()
data %>%
filter(1920 <= byr & byr <= 2020 &
2010  <=  iyr & iyr <= 2020 &
2020 <=  eyr & eyr <=  2030 &
!is.na(hgt_units) &
(hgt_units == "in" & hgt >= 59 & hgt <= 76) |
(hgt_units == "cm" & hgt >= 150 & hgt <= 193)) %>%
View()
data %>%
filter(1920 <= byr & byr <= 2020 &
2010  <=  iyr & iyr <= 2020 &
2020 <=  eyr & eyr <=  2030 &
!is.na(hgt_units) &
(hgt_units == "in" & hgt >= 59 & hgt <= 76) |
(hgt_units == "cm" & hgt >= 150 & hgt <= 193) & str_detect(hcl, "#[a-f0-9]{6}")) %>%
View()
data %>%
filter(1920 <= byr & byr <= 2020 &
2010  <=  iyr & iyr <= 2020 &
2020 <=  eyr & eyr <=  2030 &
!is.na(hgt_units) &
(hgt_units == "in" & hgt >= 59 & hgt <= 76) |
(hgt_units == "cm" & hgt >= 150 & hgt <= 193) & str_detect(hcl, "#[a-f0-9]{6}") &
ecl %in% c(amb, blu, brn, gry, grn, hzl, oth)) %>%
View()
data %>%
filter(1920 <= byr & byr <= 2020 &
2010  <=  iyr & iyr <= 2020 &
2020 <=  eyr & eyr <=  2030 &
!is.na(hgt_units) &
(hgt_units == "in" & hgt >= 59 & hgt <= 76) |
(hgt_units == "cm" & hgt >= 150 & hgt <= 193) & str_detect(hcl, "#[a-f0-9]{6}") &
ecl %in% c("amb", "blu", "brn", "gry", "grn", "hzl", "oth")) %>%
View()
data %>%
filter(1920 <= byr & byr <= 2020 &
2010  <=  iyr & iyr <= 2020 &
2020 <=  eyr & eyr <=  2030 &
!is.na(hgt_units) &
(hgt_units == "in" & hgt >= 59 & hgt <= 76) |
(hgt_units == "cm" & hgt >= 150 & hgt <= 193) & str_detect(hcl, "#[a-f0-9]{6}") &
ecl %in% c("amb", "blu", "brn", "gry", "grn", "hzl", "oth")  &
str_detect(pid, "[0-9]{9}")) %>%
View()
data %>%
filter(1920 <= byr & byr <= 2020 &
2010  <=  iyr & iyr <= 2020 &
2020 <=  eyr & eyr <=  2030 &
!is.na(hgt_units) &
(hgt_units == "in" & hgt >= 59 & hgt <= 76) |
(hgt_units == "cm" & hgt >= 150 & hgt <= 193) & str_detect(hcl, "#[a-f0-9]{6}") &
ecl %in% c("amb", "blu", "brn", "gry", "grn", "hzl", "oth")  &
str_detect(pid, "[0-9]{9}")) %>%
count()
data %>%
mutate(num_valid_cols = map(., ~ sum(!is.na(.[,2:8])))) %>%
View()
data %>%
mutate(num_valid_cols = map(., ~ sum(!is.na(.[2:8])))) %>%
View()
mutate(num_valid_cols = sum(!is.na(.[2:8])) %>%
data %>%
mutate(num_valid_cols = sum(!is.na(.[2:8]))) %>%
View()
mutate(num_valid_cols = map(., ~ sum(!is.na(.[2:8]))) %>%
data %>%
mutate(num_valid_cols = map(., ~ sum(!is.na(.[2:8])))) %>%
View()
data <- read_file(here::here("2020", "Inputs", "day_4.txt")) %>%
as.data.frame(.) %>%
rename(pattern = 1) %>%
separate_rows(pattern, sep = "\n\n") %>%
mutate(passport_id = row_number()) %>%
separate_rows(pattern, sep = " |\n") %>%
separate(pattern, into = c("key", "value"), sep = ":") %>%
filter(!key %in% c('', 'cid')) %>%
mutate(is_present = !is.na(value)) %>%
group_by(passport_id) %>%
mutate(num_valid = sum(is_present)) %>%
ungroup() %>%
pivot_wider(names_from = "key", values_from = "value") %>%
mutate(hgt_units = str_extract(hgt, "[a-z]{2}"),
hgt = str_extract(hgt, "[0-9]+")) %>%
mutate(hgt = as.numeric(hgt))
View(data)
data %>%
filter(1920 <= byr & byr <= 2020 &
2010  <=  iyr & iyr <= 2020 &
2020 <=  eyr & eyr <=  2030 &
!is.na(hgt_units) &
(hgt_units == "in" & hgt >= 59 & hgt <= 76) |
(hgt_units == "cm" & hgt >= 150 & hgt <= 193) & str_detect(hcl, "#[a-f0-9]{6}") &
ecl %in% c("amb", "blu", "brn", "gry", "grn", "hzl", "oth")  &
str_detect(pid, "[0-9]{9}") & num_valid == 7)
data %>%
filter(1920 <= byr & byr <= 2020 &
2010  <=  iyr & iyr <= 2020 &
2020 <=  eyr & eyr <=  2030 &
!is.na(hgt_units) &
(hgt_units == "in" & hgt >= 59 & hgt <= 76) |
(hgt_units == "cm" & hgt >= 150 & hgt <= 193) & str_detect(hcl, "#[a-f0-9]{6}") &
ecl %in% c("amb", "blu", "brn", "gry", "grn", "hzl", "oth")  &
str_detect(pid, "[0-9]{9}") & num_valid == 7) %>%
count()
data %>%
filter(1920 <= byr & byr <= 2020 &
2010  <=  iyr & iyr <= 2020 &
2020 <=  eyr & eyr <=  2030 &
!is.na(hgt_units) &
((hgt_units == "in" & hgt >= 59 & hgt <= 76) |
(hgt_units == "cm" & hgt >= 150 & hgt <= 193)) & str_detect(hcl, "#[a-f0-9]{6}") &
ecl %in% c("amb", "blu", "brn", "gry", "grn", "hzl", "oth")  &
str_detect(pid, "[0-9]{9}") & num_valid == 7) %>%
count()
data <- read_file(here::here("2020", "Inputs", "day_4.txt")) %>%
as.data.frame(.) %>%
rename(pattern = 1) %>%
separate_rows(pattern, sep = "\n\n") %>%
mutate(passport_id = row_number()) %>%
separate_rows(pattern, sep = " |\n") %>%
separate(pattern, into = c("key", "value"), sep = ":") %>%
filter(!key %in% c('', 'cid')) %>%
mutate(is_present = !is.na(value)) %>%
group_by(passport_id) %>%
mutate(num_valid = sum(is_present)) %>%
ungroup() %>%
pivot_wider(names_from = "key", values_from = "value") %>%
mutate(hgt_units = str_extract(hgt, "[a-z]{2}"),
hgt = str_extract(hgt, "[0-9]+")) %>%
mutate(hgt = as.numeric(hgt)) %>%
filter(num_valid == 7)
data %>%
count()
data %>%
filter(1920 <= byr & byr <= 2002 &
2010  <=  iyr & iyr <= 2020 &
2020 <=  eyr & eyr <=  2030 &
!is.na(hgt_units) &
((hgt_units == "in" & hgt >= 59 & hgt <= 76) |
(hgt_units == "cm" & hgt >= 150 & hgt <= 193)) & str_detect(hcl, "#[a-f0-9]{6}") &
ecl %in% c("amb", "blu", "brn", "gry", "grn", "hzl", "oth")  &
str_detect(pid, "[0-9]{9}") & num_valid == 7) %>%
count()
data %>%
filter(1920 <= byr & byr <= 2002 &
2010  <=  iyr & iyr <= 2020 &
2020 <=  eyr & eyr <=  2030 &
!is.na(hgt_units) &
((hgt_units == "in" & hgt >= 59 & hgt <= 76) |
(hgt_units == "cm" & hgt >= 150 & hgt <= 193)) & str_detect(hcl, "#[a-f0-9]{6}") &
ecl %in% c("amb", "blu", "brn", "gry", "grn", "hzl", "oth")  &
str_detect(pid, "[0-9]{9}") & num_valid == 7) %>%
count()
data %>%
mutate(hgt_valid = case_when(
(hgt_units == "in" & hgt >= 59 & hgt <= 76) |
(hgt_units == "cm" & hgt >= 150 & hgt <= 193) ~ TRUE,
TRUE ~ FALSE
)) %>%
filter(1920 <= byr & byr <= 2002 &
2010  <=  iyr & iyr <= 2020 &
2020 <=  eyr & eyr <=  2030 &
!is.na(hgt_units) &
str_detect(hcl, "#[a-f0-9]{6}") &
ecl %in% c("amb", "blu", "brn", "gry", "grn", "hzl", "oth")  &
str_detect(pid, "[0-9]{9}") &
hgt_valid) %>%
count()
data %>%
filter(1920 <= byr & byr <= 2002 &
2010  <=  iyr & iyr <= 2020 &
2020 <=  eyr & eyr <=  2030 &
!is.na(hgt_units) &
((hgt_units == "in" & hgt >= 59 & hgt <= 76) |
(hgt_units == "cm" & hgt >= 150 & hgt <= 193)) & str_detect(hcl, "#[a-f0-9]{6}") &
ecl %in% c("amb", "blu", "brn", "gry", "grn", "hzl", "oth")  &
str_detect(pid, "[0-9]{9}")) %>%
count()
data %>%
filter_all(!is.na) %>%
View()
data <- read_file(here::here("2020", "Inputs", "day_4.txt")) %>%
as.data.frame(.) %>%
rename(pattern = 1) %>%
separate_rows(pattern, sep = "\n\n") %>%
mutate(passport_id = row_number()) %>%
separate_rows(pattern, sep = " |\n") %>%
separate(pattern, into = c("key", "value"), sep = ":") %>%
filter(!key %in% c('', 'cid')) %>%
mutate(is_present = !is.na(value)) %>%
group_by(passport_id) %>%
mutate(num_valid = sum(is_present)) %>%
ungroup() %>%
filter(!is.na(value)) %>%
pivot_wider(names_from = "key", values_from = "value") %>%
mutate(hgt_units = str_extract(hgt, "[a-z]{2}"),
hgt = str_extract(hgt, "[0-9]+")) %>%
mutate(hgt = as.numeric(hgt)) %>%
filter(num_valid == 7)
data %>%
count()
data %>%
filter(1920 <= byr & byr <= 2002 &
2010  <=  iyr & iyr <= 2020 &
2020 <=  eyr & eyr <=  2030 &
!is.na(hgt_units) &
((hgt_units == "in" & hgt >= 59 & hgt <= 76) |
(hgt_units == "cm" & hgt >= 150 & hgt <= 193)) & str_detect(hcl, "#[a-f0-9]{6}") &
ecl %in% c("amb", "blu", "brn", "gry", "grn", "hzl", "oth")  &
str_detect(pid, "[0-9]{9}")) %>%
count()
data %>%
filter(1920 <= byr & byr <= 2002 &
2010  <=  iyr & iyr <= 2020 &
2020 <=  eyr & eyr <=  2030 &
!is.na(hgt_units) &
((hgt_units == "in" & hgt >= 59 & hgt <= 76) |
(hgt_units == "cm" & hgt >= 150 & hgt <= 193)) & str_detect(hcl, "#([a-f])|([0-9]){6}") &
ecl %in% c("amb", "blu", "brn", "gry", "grn", "hzl", "oth")  &
str_detect(pid, "[0-9]{9}")) %>%
count()
data %>%
filter(1920 <= byr & byr <= 2002 &
2010  <=  iyr & iyr <= 2020 &
2020 <=  eyr & eyr <=  2030 &
!is.na(hgt_units) &
((hgt_units == "in" & hgt >= 59 & hgt <= 76) |
(hgt_units == "cm" & hgt >= 150 & hgt <= 193)) & str_detect(hcl, "#(([a-f])|([0-9])){6}") &
ecl %in% c("amb", "blu", "brn", "gry", "grn", "hzl", "oth")  &
str_detect(pid, "[0-9]{9}")) %>%
count()
data %>%
filter(1920 <= byr & byr <= 2002 &
2010  <=  iyr & iyr <= 2020 &
2020 <=  eyr & eyr <=  2030 &
!is.na(hgt_units) &
((hgt_units == "in" & hgt >= 59 & hgt <= 76) |
(hgt_units == "cm" & hgt >= 150 & hgt <= 193)) & str_detect(hcl, "#([a-f])|([0-9]){6}") &
ecl %in% c("amb", "blu", "brn", "gry", "grn", "hzl", "oth")  &
str_detect(pid, "[0-9]{9}")) %>%
count()
data %>%
filter(1920 <= byr & byr <= 2002 &
2010  <=  iyr & iyr <= 2020 &
2020 <=  eyr & eyr <=  2030 &
!is.na(hgt_units) &
((hgt_units == "in" & hgt >= 59 & hgt <= 76) |
(hgt_units == "cm" & hgt >= 150 & hgt <= 193)) & str_detect(hcl, "#([a-f])|([0-9]){6}") &
ecl %in% c("amb", "blu", "brn", "gry", "grn", "hzl", "oth")  &
str_detect(pid, "[0-9]{9}")) %>%
View()
data %>%
filter(1920 <= byr & byr <= 2002 &
2010  <=  iyr & iyr <= 2020 &
2020 <=  eyr & eyr <=  2030 &
!is.na(hgt_units) &
((hgt_units == "in" & hgt >= 59 & hgt <= 76) |
(hgt_units == "cm" & hgt >= 150 & hgt <= 193)) & str_detect(hcl, "#([a-f])|([0-9]){6}") &
ecl %in% c("amb", "blu", "brn", "gry", "grn", "hzl", "oth")  &
str_detect(pid, "[0-9]{9}")) %>%
count()
data %>%
filter(1920 <= byr & byr <= 2002 &
2010  <=  iyr & iyr <= 2020 &
2020 <=  eyr & eyr <=  2030 &
!is.na(hgt_units) &
((hgt_units == "in" & hgt >= 59 & hgt <= 76) |
(hgt_units == "cm" & hgt >= 150 & hgt <= 193)) & str_detect(hcl, "#(([a-f])|([0-9])){6}") &
ecl %in% c("amb", "blu", "brn", "gry", "grn", "hzl", "oth")  &
str_detect(pid, "[0-9]{9}")) %>%
View()
data %>%
filter(1920 <= byr & byr <= 2002 &
2010  <=  iyr & iyr <= 2020 &
2020 <=  eyr & eyr <=  2030 &
!is.na(hgt_units) &
((hgt_units == "in" & hgt >= 59 & hgt <= 76) |
(hgt_units == "cm" & hgt >= 150 & hgt <= 193)) & str_detect(hcl, "#(([a-f])|([0-9])){6}") &
ecl %in% c("amb", "blu", "brn", "gry", "grn", "hzl", "oth")  &
str_detect(pid, "^[0-9]{9}$")) %>%
count()
data %>%
filter(1920 <= byr & byr <= 2002 &
2010  <=  iyr & iyr <= 2020 &
2020 <=  eyr & eyr <=  2030 &
!is.na(hgt_units) &
((hgt_units == "in" & hgt >= 59 & hgt <= 76) |
(hgt_units == "cm" & hgt >= 150 & hgt <= 193)) & str_detect(hcl, "#(([a-f])|([0-9])){6}") &
ecl %in% c("amb", "blu", "brn", "gry", "grn", "hzl", "oth")  &
str_detect(pid, "^[0-9]{9}$")) %>%
View()
data %>%
filter(1920 <= byr & byr <= 2002 &
2010  <=  iyr & iyr <= 2020 &
2020 <=  eyr & eyr <=  2030 &
!is.na(hgt_units) &
((hgt_units == "in" & hgt >= 59 & hgt <= 76) |
(hgt_units == "cm" & hgt >= 150 & hgt <= 193)) & str_detect(hcl, "#(([a-f])|([0-9])){6}") &
ecl %in% c("amb", "blu", "brn", "gry", "grn", "hzl", "oth")  &
str_detect(pid, "^[0-9]{9}$")) %>%
count()
data %>%
filter(1920 <= byr & byr <= 2002 &
2010  <=  iyr & iyr <= 2020 &
2020 <=  eyr & eyr <=  2030 &
!is.na(hgt_units) &
((hgt_units == "in" & hgt >= 59 & hgt <= 76) |
(hgt_units == "cm" & hgt >= 150 & hgt <= 193)) & str_detect(hcl, "#([a-f])|([0-9]){6}") &
ecl %in% c("amb", "blu", "brn", "gry", "grn", "hzl", "oth")  &
str_detect(pid, "^[0-9]{9}$")) %>%
count()
data %>%
filter(1920 <= byr & byr <= 2002 &
2010  <=  iyr & iyr <= 2020 &
2020 <=  eyr & eyr <=  2030 &
!is.na(hgt_units) &
((hgt_units == "in" & hgt >= 59 & hgt <= 76) |
(hgt_units == "cm" & hgt >= 150 & hgt <= 193)) & str_detect(hcl, "#(([a-f])|([0-9])){6}") &
ecl %in% c("amb", "blu", "brn", "gry", "grn", "hzl", "oth")  &
str_detect(pid, "^[0-9]{9}$")) %>%
count()
